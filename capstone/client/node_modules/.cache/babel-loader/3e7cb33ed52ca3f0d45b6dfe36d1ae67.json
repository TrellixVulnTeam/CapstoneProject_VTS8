{"ast":null,"code":"import _defineProperty from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useRef}from'react';import{AddCamButton}from'../styled-components/AddCampaignStyled';import{UpdateDiv,UpdateInput,UpdateText}from'../styled-components/UpdateForm Styled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function UpdateForm(props){var viewUpdateForm=props.viewUpdateForm;var campaign=props.campaign;var _useState=useState({creator_name:\"\",title:\"\",image:\"\",goal:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),campaignData=_useState2[0],setCampaignData=_useState2[1];var update_id=useRef(0);var updateCampaign=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var id,updateCampaigns;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();id=e.target.id;_context.next=4;return fetch(\"http://localhost:3000/update_campaign/\".concat(id),{method:\"POST\",mode:\"cors\",headers:{'Content-Type':'application/json'},body:JSON.stringify(campaignData)});case 4:updateCampaigns=_context.sent;window.location.reload(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function updateCampaign(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:!viewUpdateForm?/*#__PURE__*/_jsxs(UpdateDiv,{children:[/*#__PURE__*/_jsx(UpdateInput,{onChange:function onChange(e){return setCampaignData(_objectSpread(_objectSpread({},campaignData),{},_defineProperty({},e.target.name,e.target.value)));},name:\"image\",type:\"text\",placeholder:\"image URL\"}),/*#__PURE__*/_jsx(UpdateInput,{onChange:function onChange(e){return setCampaignData(_objectSpread(_objectSpread({},campaignData),{},_defineProperty({},e.target.name,e.target.value)));},name:\"title\",type:\"text\",placeholder:\"Title\"}),/*#__PURE__*/_jsx(UpdateInput,{onChange:function onChange(e){return setCampaignData(_objectSpread(_objectSpread({},campaignData),{},_defineProperty({},e.target.name,e.target.value)));},name:\"goal\",type:\"number\",placeholder:\"goal\"}),/*#__PURE__*/_jsx(UpdateText,{onChange:function onChange(e){return setCampaignData(_objectSpread(_objectSpread({},campaignData),{},_defineProperty({},e.target.name,e.target.value)));},name:\"description\",id:\"\",cols:\"30\",rows:\"10\",placeholder:\"description\"}),/*#__PURE__*/_jsx(AddCamButton,{id:campaign===null||campaign===void 0?void 0:campaign.campaign_id,onClick:function onClick(e){return updateCampaign(e);},children:\"Update Campaign\"})]}):/*#__PURE__*/_jsx(_Fragment,{})});}","map":{"version":3,"sources":["/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/src/components/UpdateForm.js"],"names":["React","useState","useRef","AddCamButton","UpdateDiv","UpdateInput","UpdateText","UpdateForm","props","viewUpdateForm","campaign","creator_name","title","image","goal","description","campaignData","setCampaignData","update_id","updateCampaign","e","preventDefault","id","target","fetch","method","mode","headers","body","JSON","stringify","updateCampaigns","window","location","reload","name","value","campaign_id"],"mappings":"87BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,MAAnB,KAAiC,OAAjC,CACA,OAASC,YAAT,KAA6B,wCAA7B,CACA,OAASC,SAAT,CAAoBC,WAApB,CAAiCC,UAAjC,KAAmD,wCAAnD,C,6IAEA,cAAe,SAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACtC,GAAMC,CAAAA,cAAc,CAAGD,KAAK,CAACC,cAA7B,CACA,GAAMC,CAAAA,QAAQ,CAAGF,KAAK,CAACE,QAAvB,CACA,cAAwCT,QAAQ,CAAC,CAACU,YAAY,CAAE,EAAf,CAAmBC,KAAK,CAAE,EAA1B,CAA8BC,KAAK,CAAE,EAArC,CAAyCC,IAAI,CAAE,EAA/C,CAAmDC,WAAW,CAAE,EAAhE,CAAD,CAAhD,wCAAOC,YAAP,eAAqBC,eAArB,eACA,GAAMC,CAAAA,SAAS,CAAGhB,MAAM,CAAC,CAAD,CAAxB,CAGA,GAAMiB,CAAAA,cAAc,0FAAG,iBAAOC,CAAP,yIACnBA,CAAC,CAACC,cAAF,GACMC,EAFa,CAERF,CAAC,CAACG,MAAF,CAASD,EAFD,uBAGWE,CAAAA,KAAK,iDAA2CF,EAA3C,EAAiD,CAChFG,MAAM,CAAE,MADwE,CAEhFC,IAAI,CAAE,MAF0E,CAGhFC,OAAO,CAAE,CACL,eAAgB,kBADX,CAHuE,CAMhFC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAed,YAAf,CAN0E,CAAjD,CAHhB,QAGbe,eAHa,eAWnBC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EAXmB,sDAAH,kBAAdf,CAAAA,cAAc,4CAApB,CAcA,mBACI,yBACK,CAACV,cAAD,cACD,MAAC,SAAD,yBACC,KAAC,WAAD,EAAa,QAAQ,CAAE,kBAACW,CAAD,QAAKH,CAAAA,eAAe,gCAAKD,YAAL,wBAAmBI,CAAC,CAACG,MAAF,CAASY,IAA5B,CAAkCf,CAAC,CAACG,MAAF,CAASa,KAA3C,GAApB,EAAvB,CAA+F,IAAI,CAAC,OAApG,CAA6G,IAAI,CAAC,MAAlH,CAAyH,WAAW,CAAC,WAArI,EADD,cAEA,KAAC,WAAD,EAAa,QAAQ,CAAE,kBAAChB,CAAD,QAAKH,CAAAA,eAAe,gCAAKD,YAAL,wBAAmBI,CAAC,CAACG,MAAF,CAASY,IAA5B,CAAkCf,CAAC,CAACG,MAAF,CAASa,KAA3C,GAApB,EAAvB,CAA+F,IAAI,CAAC,OAApG,CAA6G,IAAI,CAAC,MAAlH,CAAyH,WAAW,CAAC,OAArI,EAFA,cAGA,KAAC,WAAD,EAAa,QAAQ,CAAE,kBAAChB,CAAD,QAAKH,CAAAA,eAAe,gCAAKD,YAAL,wBAAmBI,CAAC,CAACG,MAAF,CAASY,IAA5B,CAAkCf,CAAC,CAACG,MAAF,CAASa,KAA3C,GAApB,EAAvB,CAA+F,IAAI,CAAC,MAApG,CAA2G,IAAI,CAAC,QAAhH,CAAyH,WAAW,CAAC,MAArI,EAHA,cAIA,KAAC,UAAD,EAAY,QAAQ,CAAE,kBAAChB,CAAD,QAAKH,CAAAA,eAAe,gCAAKD,YAAL,wBAAmBI,CAAC,CAACG,MAAF,CAASY,IAA5B,CAAkCf,CAAC,CAACG,MAAF,CAASa,KAA3C,GAApB,EAAtB,CAA8F,IAAI,CAAC,aAAnG,CAAiH,EAAE,CAAC,EAApH,CAAuH,IAAI,CAAC,IAA5H,CAAiI,IAAI,CAAC,IAAtI,CAA2I,WAAW,CAAC,aAAvJ,EAJA,cAKA,KAAC,YAAD,EAAc,EAAE,CAAE1B,QAAF,SAAEA,QAAF,iBAAEA,QAAQ,CAAE2B,WAA5B,CAAyC,OAAO,CAAE,iBAACjB,CAAD,QAAKD,CAAAA,cAAc,CAACC,CAAD,CAAnB,EAAlD,6BALA,GADC,cAQC,kBATN,EADJ,CAiBH","sourcesContent":["import React from 'react';\nimport { useState, useRef } from 'react';\nimport { AddCamButton } from '../styled-components/AddCampaignStyled';\nimport { UpdateDiv, UpdateInput, UpdateText } from '../styled-components/UpdateForm Styled';\n\nexport default function UpdateForm(props) {\n    const viewUpdateForm = props.viewUpdateForm;\n    const campaign = props.campaign;\n    const [campaignData, setCampaignData] = useState({creator_name: \"\", title: \"\", image: \"\", goal: \"\", description: \"\"});\n    const update_id = useRef(0);\n   \n\n    const updateCampaign = async (e) => {\n        e.preventDefault();\n        const id = e.target.id;\n        const updateCampaigns = await fetch (`http://localhost:3000/update_campaign/${id}`, {\n            method: \"POST\",\n            mode: \"cors\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(campaignData),\n        });\n        window.location.reload(false)\n     \n    } \n    return (\n        <>\n            {!viewUpdateForm ? \n            <UpdateDiv>\n             <UpdateInput onChange={(e)=>setCampaignData({...campaignData,[e.target.name]:e.target.value})} name=\"image\"  type=\"text\" placeholder=\"image URL\"/>\n            <UpdateInput onChange={(e)=>setCampaignData({...campaignData,[e.target.name]:e.target.value})} name=\"title\"  type=\"text\" placeholder=\"Title\"/>\n            <UpdateInput onChange={(e)=>setCampaignData({...campaignData,[e.target.name]:e.target.value})} name=\"goal\" type=\"number\" placeholder=\"goal\" />\n            <UpdateText onChange={(e)=>setCampaignData({...campaignData,[e.target.name]:e.target.value})} name=\"description\" id=\"\" cols=\"30\" rows=\"10\" placeholder=\"description\"></UpdateText> \n            <AddCamButton id={campaign?.campaign_id} onClick={(e)=>updateCampaign(e)}>Update Campaign</AddCamButton>\n            </UpdateDiv>\n            : <>\n            </>\n            \n        }\n          \n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}