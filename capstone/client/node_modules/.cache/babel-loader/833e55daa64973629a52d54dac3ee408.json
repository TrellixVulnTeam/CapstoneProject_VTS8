{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import User from\"./User\";import{ChartDiv}from'../styled-components/AddCampaignStyled';import{useEffect,useState}from\"react\";import Chart from\"./Chart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CampaignContainer(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),campaignInfo=_useState2[0],setCampaignInfo=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),viewUpdateForm=_useState4[0],setViewUpdateForm=_useState4[1];useEffect(function(){readCampaigns();},[]);var readCampaigns=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,readCampaigns,getCampaigns;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=localStorage.getItem(\"jsonwebtoken\");_context.next=3;return fetch(\"http://localhost:3000/read_campaigns_by_user/:creator_name\",{method:\"GET\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}});case 3:readCampaigns=_context.sent;_context.next=6;return readCampaigns.json();case 6:getCampaigns=_context.sent;setCampaignInfo(getCampaigns.rows);case 8:case\"end\":return _context.stop();}}},_callee);}));return function readCampaigns(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(ChartDiv,{children:[campaignInfo===null||campaignInfo===void 0?void 0:campaignInfo.map(function(campaign){return/*#__PURE__*/_jsx(User,{campaign:campaign,viewUpdateForm:viewUpdateForm,setViewUpdateForm:setViewUpdateForm});}),campaignInfo.map(function(campaign){return/*#__PURE__*/_jsx(Chart,{campaign:campaign});})]});}","map":{"version":3,"sources":["/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/src/components/UserContainer.js"],"names":["React","User","ChartDiv","useEffect","useState","Chart","CampaignContainer","campaignInfo","setCampaignInfo","viewUpdateForm","setViewUpdateForm","readCampaigns","token","localStorage","getItem","fetch","method","mode","headers","Authorization","json","getCampaigns","rows","map","campaign"],"mappings":"6jBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,OAAQC,QAAR,KAAuB,wCAAvB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,wFAEA,cAAe,SAASC,CAAAA,iBAAT,EAA6B,CAC1C,cAAwCF,QAAQ,CAAC,EAAD,CAAhD,wCAAOG,YAAP,eAAqBC,eAArB,eACA,eAA4CJ,QAAQ,CAAC,IAAD,CAApD,yCAAOK,cAAP,eAAuBC,iBAAvB,eAEAP,SAAS,CAAC,UAAM,CACdQ,aAAa,GACd,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,aAAa,0FAAG,wKACdC,KADc,CACNC,YAAY,CAACC,OAAb,CAAqB,cAArB,CADM,uBAEQC,CAAAA,KAAK,CAC/B,4DAD+B,CAE/B,CACEC,MAAM,CAAE,KADV,CAEEC,IAAI,CAAE,MAFR,CAGEC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,kBAAYP,KAAZ,CAFN,CAHX,CAF+B,CAFb,QAEdD,aAFc,qCAaOA,CAAAA,aAAa,CAACS,IAAd,EAbP,QAadC,YAbc,eAcpBb,eAAe,CAACa,YAAY,CAACC,IAAd,CAAf,CAdoB,sDAAH,0EAAnB,CAiBA,mBACE,MAAC,QAAD,YACGf,YADH,SACGA,YADH,iBACGA,YAAY,CAAEgB,GAAd,CAAkB,SAACC,QAAD,qBACjB,KAAC,IAAD,EACE,QAAQ,CAAEA,QADZ,CAEE,cAAc,CAAEf,cAFlB,CAGE,iBAAiB,CAAEC,iBAHrB,EADiB,EAAlB,CADH,CAQGH,YAAY,CAACgB,GAAb,CAAiB,SAACC,QAAD,qBAChB,KAAC,KAAD,EAAO,QAAQ,CAAEA,QAAjB,EADgB,EAAjB,CARH,GADF,CAcD","sourcesContent":["import React from \"react\";\nimport User from \"./User\";\nimport {ChartDiv} from '../styled-components/AddCampaignStyled'\nimport { useEffect, useState } from \"react\";\nimport Chart from \"./Chart\";\n\nexport default function CampaignContainer() {\n  const [campaignInfo, setCampaignInfo] = useState([]);\n  const [viewUpdateForm, setViewUpdateForm] = useState(true);\n\n  useEffect(() => {\n    readCampaigns();\n  }, []);\n\n  const readCampaigns = async () => {\n    const token = localStorage.getItem(\"jsonwebtoken\");\n    const readCampaigns = await fetch(\n      \"http://localhost:3000/read_campaigns_by_user/:creator_name\",\n      {\n        method: \"GET\",\n        mode: \"cors\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n    const getCampaigns = await readCampaigns.json();\n    setCampaignInfo(getCampaigns.rows);\n  };\n\n  return (\n    <ChartDiv>\n      {campaignInfo?.map((campaign) => (\n        <User\n          campaign={campaign}\n          viewUpdateForm={viewUpdateForm}\n          setViewUpdateForm={setViewUpdateForm}\n        />\n      ))}\n      {campaignInfo.map((campaign) => (\n        <Chart campaign={campaign} />\n      ))}\n    </ChartDiv>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}