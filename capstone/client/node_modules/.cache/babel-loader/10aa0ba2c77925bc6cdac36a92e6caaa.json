{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{dispatchDonation}from\"../reducers/actions/DonationActions\";import{useState}from\"react\";import{CampaignsDiv,CampImg,DonateButton,DonationInput}from\"../styled-components/CampaignContanStyled\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Campaigns(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),donationAmount=_useState2[0],setDonationAmount=_useState2[1];var dispatch=useDispatch();var campaign=props.campaign;var money=useSelector(function(state){return state.donationData.donations;});var updateDonations=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var id,uppydate;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatchDonation(dispatch,donationAmount);id=e.target.id;_context.next=4;return fetch(\"http://localhost:3000/update_donations/\".concat(id),{method:\"POST\",mode:\"cors\",headers:{'Content-Type':'application/json'},credentials:\"same-origin\",body:JSON.stringify({donations:donationAmount})});case 4:uppydate=_context.sent;window.location.reload(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function updateDonations(_x){return _ref.apply(this,arguments);};}();var formatter=new Intl.NumberFormat('en-US',{style:'currency',currency:\"USD\"});var goalToggle=true;if((campaign===null||campaign===void 0?void 0:campaign.goal)>(campaign===null||campaign===void 0?void 0:campaign.donations)){goalToggle=true;}else{goalToggle=false;}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CampaignsDiv,{children:[/*#__PURE__*/_jsx(\"h1\",{children:campaign===null||campaign===void 0?void 0:campaign.title}),/*#__PURE__*/_jsx(CampImg,{src:campaign===null||campaign===void 0?void 0:campaign.image,alt:\"\"}),goalToggle?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Goal \",formatter.format(campaign===null||campaign===void 0?void 0:campaign.goal)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Amount donated \",formatter.format(campaign===null||campaign===void 0?void 0:campaign.donations)]}),\" \"]}):/*#__PURE__*/_jsx(\"h3\",{children:\"Goal Met!\"}),/*#__PURE__*/_jsx(\"p\",{children:campaign===null||campaign===void 0?void 0:campaign.description}),/*#__PURE__*/_jsx(DonationInput,{type:\"number\",placeholder:\"Donation Amount\",id:\"donationAmount\",onChange:function onChange(e){return setDonationAmount(parseInt(e.target.value));}}),/*#__PURE__*/_jsx(DonateButton,{id:campaign===null||campaign===void 0?void 0:campaign.campaign_id,onClick:function onClick(e){return updateDonations(e);},children:\"Donate Now!\"})]})});}","map":{"version":3,"sources":["/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/src/components/Campaigns.js"],"names":["React","useDispatch","useSelector","dispatchDonation","useState","CampaignsDiv","CampImg","DonateButton","DonationInput","Campaigns","props","donationAmount","setDonationAmount","dispatch","campaign","money","state","donationData","donations","updateDonations","e","id","target","fetch","method","mode","headers","credentials","body","JSON","stringify","uppydate","window","location","reload","formatter","Intl","NumberFormat","style","currency","goalToggle","goal","title","image","format","description","parseInt","value","campaign_id"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\"\nimport { dispatchDonation } from \"../reducers/actions/DonationActions\";\nimport { useState } from \"react\";\nimport { CampaignsDiv, CampImg, DonateButton, DonationInput } from \"../styled-components/CampaignContanStyled\"\n\nexport default function Campaigns(props) {\n  \n  const [donationAmount, setDonationAmount] = useState(0)\n  const dispatch = useDispatch()\n  const { campaign } = props;\n  const money = useSelector((state) => state.donationData.donations)\n  \n  const updateDonations = async (e) => {\n    dispatchDonation(dispatch, donationAmount)\n    const id = e.target.id\n    const uppydate = await fetch(`http://localhost:3000/update_donations/${id}`,{\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n          'Content-Type': 'application/json'\n      },\n      credentials: \"same-origin\",\n      body: JSON.stringify({donations: donationAmount})\n  }); window.location.reload(false)\n  };\n \n\n  let formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: \"USD\",\n});\nlet goalToggle = true\nif (campaign?.goal > campaign?.donations) {\ngoalToggle = true\n}\nelse {\n  goalToggle = false\n}\n  return (\n  \n    <>\n    <CampaignsDiv>\n      <h1>{campaign?.title}</h1>\n      <CampImg src={campaign?.image} alt=\"\" />\n      {goalToggle ? <>\n      <h3>Goal {formatter.format(campaign?.goal)}</h3>\n      <p>Amount donated {formatter.format(campaign?.donations)}</p> </> : <h3>Goal Met!</h3>}\n      <p>{campaign?.description}</p>\n      <DonationInput type=\"number\" placeholder=\"Donation Amount\" id=\"donationAmount\" onChange={(e) => setDonationAmount(parseInt(e.target.value))}></DonationInput>\n      <DonateButton id={campaign?.campaign_id} onClick={(e) => updateDonations(e)}>Donate Now!</DonateButton>\n    </CampaignsDiv>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}