{"ast":null,"code":"import _defineProperty from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState}from\"react\";import{FormDiv,Input,FormButton,FormContain,SocialIcons,FormTitle,HrefTag}from\"../styled-components/LoginStyled\";import{useHistory}from\"react-router-dom\";import*as FaIcons from\"react-icons/fa\";import*as AiIcons from\"react-icons/ai\";import{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(props){var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var history=useHistory();var logIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var loginFetch;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"http://localhost:3000/login\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)}).then(function(response){return response.json();}).then(function(result){if(result.success==true){var token=result.token;localStorage.setItem(\"jsonwebtoken\",token);props.onLoggedIn();history.push(\"/user\");}});case 3:loginFetch=_context.sent;window.location.reload(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function logIn(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(FormContain,{children:/*#__PURE__*/_jsxs(FormDiv,{children:[/*#__PURE__*/_jsx(FormTitle,{children:\"Login To Start a Campaign !\"}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(SocialIcons,{href:\"#\",class:\"social\",children:[/*#__PURE__*/_jsx(AiIcons.AiFillFacebook,{}),/*#__PURE__*/_jsx(\"i\",{class:\"fab fa-facebook-f\"})]}),/*#__PURE__*/_jsxs(SocialIcons,{href:\"#\",class:\"social\",children:[/*#__PURE__*/_jsx(AiIcons.AiOutlineGoogle,{}),/*#__PURE__*/_jsx(\"i\",{class:\"fab fa-google-plus-g\"})]}),/*#__PURE__*/_jsxs(SocialIcons,{href:\"#\",class:\"social\",children:[/*#__PURE__*/_jsx(FaIcons.FaTwitter,{}),/*#__PURE__*/_jsx(\"i\",{class:\"fab fa-linkedin-in\"})]}),/*#__PURE__*/_jsxs(SocialIcons,{href:\"#\",class:\"social\",children:[/*#__PURE__*/_jsx(AiIcons.AiFillLinkedin,{}),/*#__PURE__*/_jsx(\"i\",{class:\"fab fa-linkedin-in\"})]})]}),/*#__PURE__*/_jsx(Input,{onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));},name:\"name\",type:\"text\",placeholder:\"Name\"}),/*#__PURE__*/_jsx(Input,{onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));},name:\"password\",type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(FormButton,{onClick:function onClick(e){return logIn(e);},children:\"Login\"}),/*#__PURE__*/_jsx(HrefTag,{href:\"/signup\",children:\"Create User\"})]})});}var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onLoggedIn:function onLoggedIn(){return dispatch({type:\"ON_LOGGED_IN\"});}};};export default connect(null,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/kaylamatthews/Desktop/web-projects/CapstoneProject/capstone/client/src/components/Login.js"],"names":["React","useState","FormDiv","Input","FormButton","FormContain","SocialIcons","FormTitle","HrefTag","useHistory","FaIcons","AiIcons","connect","Login","props","username","password","formData","setFormData","history","logIn","e","preventDefault","fetch","method","mode","headers","body","JSON","stringify","then","response","json","result","success","token","localStorage","setItem","onLoggedIn","push","loginFetch","window","location","reload","target","name","value","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import { React, useState } from \"react\";\nimport { FormDiv, Input, FormButton, FormContain, SocialIcons, FormTitle, HrefTag } from \"../styled-components/LoginStyled\";\n\nimport { useHistory } from \"react-router-dom\";\nimport * as FaIcons from \"react-icons/fa\";\nimport * as AiIcons from \"react-icons/ai\";\n\n\nimport { connect } from \"react-redux\";\n\nfunction Login(props) {\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const history = useHistory();\n\n  const logIn = async (e) => {\n    e.preventDefault();\n    const loginFetch = await fetch(\"http://localhost:3000/login\", {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formData),\n    })\n      .then((response) => response.json())\n      .then((result) => {\n        if (result.success == true) {\n          const token = result.token;\n          localStorage.setItem(\"jsonwebtoken\", token);\n          props.onLoggedIn();\n          history.push(\"/user\");\n        }\n      });\n    window.location.reload(false);\n  };\n  return (\n    <FormContain>\n    <FormDiv>\n      <FormTitle>Login To Start a Campaign !</FormTitle>\n\t\t\t<span><SocialIcons href=\"#\" class=\"social\"><AiIcons.AiFillFacebook /><i class=\"fab fa-facebook-f\"></i></SocialIcons>\n\t\t\t\t<SocialIcons href=\"#\" class=\"social\"><AiIcons.AiOutlineGoogle /><i class=\"fab fa-google-plus-g\"></i></SocialIcons>\n\t\t\t\t<SocialIcons href=\"#\" class=\"social\"><FaIcons.FaTwitter /><i class=\"fab fa-linkedin-in\"></i></SocialIcons>\n        <SocialIcons href=\"#\" class=\"social\"><AiIcons.AiFillLinkedin/><i class=\"fab fa-linkedin-in\"></i></SocialIcons></span>\n      <Input\n        onChange={(e) =>\n          setFormData({ ...formData, [e.target.name]: e.target.value })\n        }\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Name\"\n      />\n      <Input\n        onChange={(e) =>\n          setFormData({ ...formData, [e.target.name]: e.target.value })\n        }\n        name=\"password\"\n        type=\"password\"\n        placeholder=\"Password\"\n      />\n      <FormButton onClick={(e) => logIn(e)}>Login</FormButton>\n      <HrefTag href=\"/signup\">Create User</HrefTag>\n    </FormDiv>\n    </FormContain>\n  );\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onLoggedIn: () => dispatch({ type: \"ON_LOGGED_IN\" }),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}